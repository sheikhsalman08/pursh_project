!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){var e,n,i,o;i={before:function(){return!0},target:null,menuIdentifier:".dropdown-menu"},e=function(){function e(e,n){this.element=e,this.settings=t.extend({},i,n),n.target&&t(this.element).data("target",n.target),this.init()}return e.prototype.init=function(){t(this.element).on("contextmenu.menu.context",this.show.bind(this)),t("html, body").on("click.menu.context",this.hide.bind(this))},e.prototype.destroy=function(){t(this.element).off(".menu.context").data("$.contextmenu",null),t("html, body").off(".menu.context")},e.prototype.show=function(e){var n,i,o,r;if(!this.isDisabled()&&(this.hide(),this.settings.before.call(this,e,t(e.currentTarget))))return i={relatedTarget:this,bubbles:!1},n=this.getMenu(),n.trigger(t.Event("show.menu.context",i)),o=this._getPosition(e,n),r=this,n.attr("style","").css(o).addClass("open").one("click.menu.context","li:not(.divider)",{context:e.target},function(t){var e;return e={item:t.target,context:t.data.context},n.trigger("click.item.context",[e]),r.hide.call(r),!1}).trigger(t.Event("shown.menu.context",i)),t("html").on("click.menu.context",n.selector,this.hide.bind(this)),!1},e.prototype.hide=function(){var e,n;return e=this.getMenu(),e.hasClass("open")?(n={relatedTarget:this},e.trigger(t.Event("hide.menu.context",n)),e.removeClass("open").off("click.menu.context","li:not(.divider)").trigger(t.Event("hidden.menu.context",n)),t("html").off("click.menu.context",e.selector),!1):void 0},e.prototype.isDisabled=function(){return t(this.element).hasClass("disabled")||t(this.element).attr("disabled")},e.prototype.getMenu=function(){var e,n;return n=t(this.element).data("target"),n||(n=t(this.element).attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),e=t(n),e.length||(e=t(this.element).find(n)),e},e.prototype._getPosition=function(e,n){var i,o,r,s,c,u,l,f,h,d,a,m;return u=e.clientX,l=e.clientY,i=t(window).width(),o=t(window).height(),c=n.find(this.settings.menuIdentifier).outerWidth(),r=n.find(this.settings.menuIdentifier).outerHeight(),a=t(window).scrollLeft(),m=t(window).scrollTop(),s={position:"fixed","z-index":9999},s.top=l+m,l+r>o&&(s.top-=r),s.left=u+a,u+c>i&&(s.left-=c),f=n.offsetParent().offset(),h=n.offsetParent().scrollLeft(),d=n.offsetParent().scrollTop(),s.left-=f.left+h,s.top-=f.top+d,s},e}(),n=function(n,i){return this.each(function(){var o,r,s;o=t(this),r=o.data("$.contextmenu"),r||o.data("$.contextmenu",r=new e(this,n)),"string"==typeof n&&"_"!==n.substr(0,1)&&(s=r[n].call(r,i))})},o=t.fn.contextmenu,t.fn.contextmenu=n,t.fn.contextmenu.Constructor=e,t.fn.contextmenu.noConflict=function(){return t.fn.contextmenu=o,this}});